# خطة الاختبار الشاملة لمنصة أيديا المتكاملة

**التاريخ:** 15 أكتوبر 2025  
**المعد:** Manus AI  
**الحالة:** قيد الإعداد

---

## 1. مقدمة

تهدف هذه الوثيقة إلى تحديد خطة اختبار شاملة لمنصة أيديا المتكاملة، مع التركيز على المميزات التي تم تطويرها حديثًا. نظرًا للقيود الحالية في بيئة Sandbox (مشكلة Docker Compose)، سيتم التركيز على توثيق خطة الاختبار وكيفية تنفيذها في بيئة مناسبة، بالإضافة إلى إجراء اختبارات يدوية حيثما أمكن.

## 2. أهداف الاختبار

- ضمان عمل جميع المميزات المطورة حديثًا (التقارير، CMS، وسائل التواصل الاجتماعي، الفواتير والمدفوعات، إدارة المستخدمين) بشكل صحيح.
- التحقق من التكامل السلس بين الواجهة الأمامية والخلفية.
- تحديد أي أخطاء أو عيوب في الوظائف أو الأداء أو الأمان.
- التأكد من أن المنصة تلبي المتطلبات المحددة في الوثائق التقنية.

## 3. نطاق الاختبار

سيغطي الاختبار المجالات التالية:

- **الواجهة الخلفية (Django REST Framework):**
  - اختبارات الوحدة (Unit Tests) للنماذج (Models)، الـ Serializers، والـ Views.
  - اختبارات التكامل (Integration Tests) لنقاط نهاية API.
  - اختبارات الأمان (Authentication, Authorization).

- **الواجهة الأمامية (React):**
  - اختبارات المكونات (Component Tests).
  - اختبارات التكامل للصفحات (Page Integration Tests).
  - اختبارات واجهة المستخدم (UI Tests) وتجربة المستخدم (UX).

- **التكامل بين الواجهة الأمامية والخلفية:**
  - التحقق من صحة استدعاءات API واستجاباتها.
  - معالجة الأخطاء والتحقق من صحة البيانات.

## 4. بيئة الاختبار

نظرًا لمشكلة Docker Compose في بيئة Sandbox، يوصى بتنفيذ الاختبارات في بيئة تطوير أو اختبار مخصصة حيث يمكن تشغيل Docker بشكل صحيح. يمكن أن تكون هذه البيئة:

- جهاز محلي (Local Machine) مع تثبيت Docker.
- خادم تطوير (Development Server) أو بيئة سحابية (Cloud Environment).

**متطلبات البيئة:**
- Python 3.x
- Node.js 18+
- Docker و Docker Compose (للتشغيل المتكامل)
- قاعدة بيانات PostgreSQL (موصى بها)

## 5. أدوات الاختبار المقترحة

### 5.1. الواجهة الخلفية (Django)

- **Pytest:** إطار عمل اختبار قوي ومرن لـ Python.
- **pytest-django:** إضافة لـ Pytest توفر دعمًا لـ Django.
- **Django REST Framework TestClient:** لاختبار نقاط نهاية API.

### 5.2. الواجهة الأمامية (React)

- **React Testing Library:** لاختبار مكونات React بطريقة تركز على المستخدم.
- **Jest:** إطار عمل اختبار لـ JavaScript (يستخدم عادة مع React Testing Library).
- **Cypress / Playwright:** لاختبارات E2E (End-to-End) الشاملة للواجهة الأمامية.

## 6. خطة الاختبار التفصيلية للمميزات المطورة

### 6.1. التقارير والتحليلات

- **اختبارات الوحدة (Backend):**
  - التحقق من صحة نماذج التقارير (Models).
  - اختبار Serializers للتقارير.
  - اختبار وظائف Views (إنشاء، جلب، تحديث، حذف، إحصائيات).
- **اختبارات التكامل (Backend):**
  - إرسال طلبات HTTP لنقاط نهاية API للتقارير والتحقق من الاستجابات.
- **اختبارات الواجهة الأمامية (Frontend):**
  - التحقق من عرض صفحة التقارير بشكل صحيح.
  - اختبار وظائف البحث والفلترة.
  - اختبار عرض البيانات في الرسوم البيانية والجداول.

### 6.2. نظام إدارة المحتوى (CMS)

- **اختبارات الوحدة (Backend):**
  - التحقق من صحة نماذج المحتوى (مقالات، صفحات).
  - اختبار Serializers للمحتوى.
  - اختبار وظائف Views (إنشاء، جلب، تحديث، حذف).
- **اختبارات التكامل (Backend):**
  - إرسال طلبات HTTP لنقاط نهاية API للـ CMS والتحقق من الاستجابات.
- **اختبارات الواجهة الأمامية (Frontend):**
  - التحقق من عرض صفحة إدارة المحتوى بشكل صحيح.
  - اختبار وظائف إنشاء/تعديل/حذف المحتوى.
  - اختبار وظائف البحث والفلترة.

### 6.3. إدارة وسائل التواصل الاجتماعي

- **اختبارات الوحدة (Backend):**
  - التحقق من صحة نماذج حسابات وسائل التواصل والمنشورات.
  - اختبار Serializers للمنشورات والحملات.
  - اختبار وظائف Views (إنشاء، جلب، تحديث، حذف، إحصائيات).
- **اختبارات التكامل (Backend):**
  - إرسال طلبات HTTP لنقاط نهاية API لوسائل التواصل والتحقق من الاستجابات.
- **اختبارات الواجهة الأمامية (Frontend):**
  - التحقق من عرض صفحة إدارة وسائل التواصل بشكل صحيح.
  - اختبار وظائف إنشاء/تعديل/حذف المنشورات.
  - اختبار عرض تحليلات المنشورات.

### 6.4. إدارة الفواتير والمدفوعات

- **اختبارات الوحدة (Backend):**
  - التحقق من صحة نماذج الفواتير والمدفوعات وعناصر الفاتورة.
  - اختبار Serializers للفواتير والمدفوعات.
  - اختبار وظائف Views (إنشاء، جلب، تحديث، حذف، إرسال، تحديد كمدفوعة، إلغاء، معالجة، استرداد، إحصائيات).
- **اختبارات التكامل (Backend):**
  - إرسال طلبات HTTP لنقاط نهاية API للفواتير والمدفوعات والتحقق من الاستجابات.
- **اختبارات الواجهة الأمامية (Frontend):**
  - التحقق من عرض صفحة الفواتير بشكل صحيح.
  - اختبار وظائف إنشاء/تعديل/حذف الفواتير.
  - اختبار وظائف البحث والفلترة.
  - اختبار عرض حالة الفواتير والمدفوعات.

### 6.5. إدارة المستخدمين المتقدمة وسجل الأنشطة

- **اختبارات الوحدة (Backend):**
  - التحقق من صحة نماذج المستخدمين والأنشطة.
  - اختبار Serializers لإدارة المستخدمين والأنشطة.
  - اختبار وظائف Views (إنشاء، جلب، تحديث، حذف، تفعيل، تعطيل، إحصائيات).
  - اختبار صلاحيات المستخدمين (Permissions) لكل عملية.
- **اختبارات التكامل (Backend):**
  - إرسال طلبات HTTP لنقاط نهاية API لإدارة المستخدمين والأنشطة والتحقق من الاستجابات.
- **اختبارات الواجهة الأمامية (Frontend):**
  - التحقق من عرض صفحة إدارة المستخدمين بشكل صحيح.
  - اختبار وظائف إنشاء/تعديل/حذف/تفعيل/تعطيل المستخدمين.
  - اختبار وظائف البحث والفلترة حسب الدور والحالة.
  - التحقق من عرض صفحة سجل الأنشطة بشكل صحيح.
  - اختبار وظائف البحث والفلترة في سجل الأنشطة.

## 7. الاختبارات اليدوية (المقترحة)

نظرًا لعدم القدرة على تشغيل الاختبارات الآلية في بيئة Sandbox، يمكن إجراء الاختبارات اليدوية التالية:

1.  **تشغيل الواجهة الخلفية:**
    ```bash
    cd /home/ubuntu/idea-platform/idea-platform/backend
    pip install -r requirements.txt
    python manage.py migrate
    python manage.py runserver 0.0.0.0:8000
    ```
2.  **تشغيل الواجهة الأمامية:**
    ```bash
    cd /home/ubuntu/idea-platform/idea-platform/frontend
    npm install
    npm run dev
    ```
3.  **الوصول إلى المنصة:** افتح المتصفح على `http://localhost:5173`.
4.  **تسجيل الدخول:** استخدم بيانات المستخدم التجريبي `admin@ideateam.com` وكلمة المرور `admin123`.
5.  **اختبار كل صفحة:**
    - **لوحة التحكم:** التحقق من عرض البيانات الأساسية.
    - **المشاريع والعملاء:** التحقق من الوظائف الأساسية (إنشاء، عرض، تعديل، حذف).
    - **الفواتير:**
      - إنشاء فاتورة جديدة مع عناصر.
      - تعديل فاتورة موجودة.
      - تغيير حالة الفاتورة (إرسال، تحديد كمدفوعة، إلغاء).
      - عرض إحصائيات الفواتير.
    - **التقارير:**
      - زيارة صفحة التقارير والتحقق من عرضها.
      - محاولة إنشاء تقرير (إذا كانت الواجهة تدعم ذلك).
    - **إدارة المحتوى:**
      - زيارة صفحة إدارة المحتوى والتحقق من عرضها.
      - محاولة إنشاء/تعديل/حذف محتوى.
    - **وسائل التواصل:**
      - زيارة صفحة إدارة وسائل التواصل والتحقق من عرضها.
      - محاولة إنشاء/تعديل/حذف منشورات.
    - **إدارة المستخدمين:**
      - زيارة صفحة إدارة المستخدمين.
      - محاولة إنشاء مستخدم جديد.
      - تفعيل/تعطيل مستخدم.
      - تعديل بيانات مستخدم.
      - حذف مستخدم (باستثناء المستخدم الحالي).
      - التحقق من عرض الإحصائيات والبحث والفلترة.
    - **سجل الأنشطة:**
      - زيارة صفحة سجل الأنشطة.
      - التحقق من تسجيل جميع الأنشطة التي تم إجراؤها.
      - اختبار وظائف البحث والفلترة.
    - **الإعدادات:** التحقق من الوظائف الأساسية.

## 8. معايير النجاح

- جميع الوظائف الأساسية للمميزات المطورة تعمل كما هو متوقع.
- لا توجد أخطاء حرجة تمنع استخدام المنصة.
- التكامل بين الواجهة الأمامية والخلفية يعمل بسلاسة.
- يتم تطبيق الصلاحيات والأذونات بشكل صحيح.

## 9. التوصيات

- بمجرد توفر بيئة اختبار مناسبة، يجب تنفيذ الاختبارات الآلية المذكورة في هذه الوثيقة.
- يجب دمج الاختبارات الآلية في خط أنابيب CI/CD لضمان جودة الكود بشكل مستمر.
- يجب إجراء اختبارات الأداء والأمان بشكل دوري.

---

**نهاية الوثيقة**

